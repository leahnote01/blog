---
title: "DataMiningPratice(2)-RefiningDatasets"
layout: single
typora-root-url: ../
categories: DataMining
tag: [python, datamining, TIL]
toc: true
---



### Change data type

The sale price is in the object(character) type. Since the `string type` cannot be calculated, it has to be changed to *numerical data.* Transformations do not work well when missing values are mixed. So, we change the data type through `pd.to_numeric`.


```python
df_last["분양가격(㎡)"].sum()
```


    ---------------------------------------------------------------------------
    
    TypeError                                 Traceback (most recent call last)
    
    Cell In[26], line 1
    ----> 1 df_last["분양가격(㎡)"].sum()


    TypeError: can only concatenate str (not "int") to str







**The sale price is in the object (character) type. Since the string type cannot be calculated, it is changed to numerical data. With `.astype(int)` or `.to_numeric`. **


```python
df_last["분양가격(㎡)"].astype(int)
```


    ---------------------------------------------------------------------------
    
    ValueError                                Traceback (most recent call last)
    
    Cell In[30], line 1
    ----> 1 df_last["분양가격(㎡)"].astype(int)


    ValueError: invalid literal for int() with base 10: '  '







But there comes up the error : 
' ValueError: Unable to parse string "  " at position 28 --> input errors' 
--> We need to delete the spacing `" "`. 


```python
pd.to_numeric(df_last["분양가격(㎡)"])
```


    ---------------------------------------------------------------------------
    
    ValueError                                Traceback (most recent call last)
    
    File ~/anaconda3/lib/python3.10/site-packages/pandas/_libs/lib.pyx:2369, in pandas._libs.lib.maybe_convert_numeric()


    ValueError: Unable to parse string "  "


​    


    ValueError: Unable to parse string "  " at position 28





1. **Checking the type of datasets**


```python
type(pd.np.nan)
```

    /var/folders/bg/wtktbqcn3c7334w9nxnw3lxr0000gn/T/ipykernel_73203/907039516.py:1: FutureWarning: The pandas.np module is deprecated and will be removed from pandas in a future version. Import numpy directly instead.
      type(pd.np.nan)
    
    float



2. **Change data types to numbers forcely.
   Then, we can check the data type has been changed to `float64` <-- b/c NaN type . **


```python
df_last["분양가격"] = pd.to_numeric(df_last["분양가격(㎡)"], errors = 'coerce')
```


```python
df_last["분양가격"].sum()
```


    12813275.0



You can check the type of dataset has been changed from `int` to `float`.


```python
df_last["분양가격"].head(1)
```


    0    5841.0
    Name: 분양가격, dtype: float64

